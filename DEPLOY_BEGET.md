# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–≥—Ä—É–∑–∫–µ —Å–∞–π—Ç–∞ –Ω–∞ Beget

## ‚úÖ Production –±–∏–ª–¥ –≥–æ—Ç–æ–≤!

–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ: `out/`

---

## üì¶ –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ –∞—Ä—Ö–∏–≤ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏

–í–∞–º –Ω—É–∂–Ω–æ –∑–∞–∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–∞–ø–∫–∏ `out/`:

### –í–∞—Ä–∏–∞–Ω—Ç A - –ß–µ—Ä–µ–∑ –ø—Ä–æ–≤–æ–¥–Ω–∏–∫ Windows:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø–∞–ø–∫—É `d:\1_sites\baraholka\out`
2. –í—ã–¥–µ–ª–∏—Ç–µ **–í–°–ï —Ñ–∞–π–ª—ã –∏ –ø–∞–ø–∫–∏** –≤–Ω—É—Ç—Ä–∏ (Ctrl+A)
3. –ü—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π ‚Üí –û—Ç–ø—Ä–∞–≤–∏—Ç—å ‚Üí –°–∂–∞—Ç–∞—è ZIP-–ø–∞–ø–∫–∞
4. –ù–∞–∑–æ–≤–∏—Ç–µ –∞—Ä—Ö–∏–≤: `avoska-site.zip`

### –í–∞—Ä–∏–∞–Ω—Ç B - –ß–µ—Ä–µ–∑ PowerShell:
```powershell
Compress-Archive -Path "d:\1_sites\baraholka\out\*" -DestinationPath "d:\1_sites\baraholka\avoska-site.zip" -Force
```

---

## üåê –®–∞–≥ 2: –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ Beget

### 2.1 –í–æ–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Beget
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://beget.com
- –í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç

### 2.2 –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä
- –í –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"–§–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä"**
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –≤–∞—à–µ–≥–æ –¥–æ–º–µ–Ω–∞ (–æ–±—ã—á–Ω–æ —ç—Ç–æ –ø–∞–ø–∫–∞ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –¥–æ–º–µ–Ω–∞)
- –ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –ø–∞–ø–∫—É –¥–ª—è —Å–∞–π—Ç–∞

### 2.3 –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏ —Ä–∞—Å–ø–∞–∫—É–π—Ç–µ –∞—Ä—Ö–∏–≤
1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"–ó–∞–≥—Ä—É–∑–∏—Ç—å"** –∏–ª–∏ **"Upload"**
2. –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª `avoska-site.zip`
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
4. –í—ã–¥–µ–ª–∏—Ç–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π –∞—Ä—Ö–∏–≤
5. –ù–∞–∂–º–∏—Ç–µ **"–ò–∑–≤–ª–µ—á—å"** –∏–ª–∏ **"Extract"**
6. –£–¥–∞–ª–∏—Ç–µ –∞—Ä—Ö–∏–≤ –ø–æ—Å–ª–µ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏

### 2.4 –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ—Ä–Ω–µ–≤—É—é –ø–∞–ø–∫—É —Å–∞–π—Ç–∞
- –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –¥–æ–º–µ–Ω–∞ —É–∫–∞–∂–∏—Ç–µ –ø–∞–ø–∫—É, –∫—É–¥–∞ —Ä–∞—Å–ø–∞–∫–æ–≤–∞–ª–∏ —Ñ–∞–π–ª—ã
- –û–±—ã—á–Ω–æ —ç—Ç–æ `public_html` –∏–ª–∏ –ø–∞–ø–∫–∞ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –¥–æ–º–µ–Ω–∞

---

## ‚öôÔ∏è –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .htaccess (–≤–∞–∂–Ω–æ –¥–ª—è Next.js)

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.htaccess` –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ —Å–∞–π—Ç–∞ —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:

```apache
# –í–∫–ª—é—á–∏—Ç—å –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å URL
RewriteEngine On

# –ï—Å–ª–∏ —Ñ–∞–π–ª –∏–ª–∏ –ø–∞–ø–∫–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –ø–æ–∫–∞–∑–∞—Ç—å –∏—Ö
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ index.html (–¥–ª—è SPA)
RewriteRule ^(.*)$ /index.html [L,QSA]

# –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
<IfModule mod_expires.c>
  ExpiresActive On
  ExpiresByType image/jpg "access plus 1 year"
  ExpiresByType image/jpeg "access plus 1 year"
  ExpiresByType image/gif "access plus 1 year"
  ExpiresByType image/png "access plus 1 year"
  ExpiresByType image/svg+xml "access plus 1 year"
  ExpiresByType text/css "access plus 1 month"
  ExpiresByType application/javascript "access plus 1 month"
  ExpiresByType application/x-javascript "access plus 1 month"
</IfModule>

# –°–∂–∞—Ç–∏–µ —Ñ–∞–π–ª–æ–≤
<IfModule mod_deflate.c>
  AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css application/javascript application/json
</IfModule>
```

---

## üîê –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í–∞—à —Ñ–∞–π–ª `.env.local` **–ù–ï –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è** –Ω–∞ —Å–µ—Ä–≤–µ—Ä (–æ–Ω –≤ .gitignore).

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤ Beget:

### –í–∞—Ä–∏–∞–Ω—Ç A - –ß–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å Beget:
1. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è"** –∏–ª–∏ **"Environment Variables"**
2. –î–æ–±–∞–≤—å—Ç–µ:
   - `NEXT_PUBLIC_SUPABASE_URL` = –≤–∞—à URL Supabase
   - `NEXT_PUBLIC_SUPABASE_ANON_KEY` = –≤–∞—à –∞–Ω–æ–Ω–∏–º–Ω—ã–π –∫–ª—é—á

### –í–∞—Ä–∏–∞–Ω—Ç B - –ß–µ—Ä–µ–∑ —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `config.js` –≤ –ø–∞–ø–∫–µ `public/` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:

```javascript
window.ENV = {
  NEXT_PUBLIC_SUPABASE_URL: 'https://–≤–∞—à-–ø—Ä–æ–µ–∫—Ç.supabase.co',
  NEXT_PUBLIC_SUPABASE_ANON_KEY: '–≤–∞—à-–∞–Ω–æ–Ω–∏–º–Ω—ã–π-–∫–ª—é—á'
};
```

–ò –ø–æ–¥–∫–ª—é—á–∏—Ç–µ –µ–≥–æ –≤ `index.html` –ø–µ—Ä–µ–¥ –¥—Ä—É–≥–∏–º–∏ —Å–∫—Ä–∏–ø—Ç–∞–º–∏.

---

## ‚úÖ –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–∞–π—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à –¥–æ–º–µ–Ω –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - ‚úÖ –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
   - ‚úÖ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
   - ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
   - ‚úÖ –ü–æ–∏—Å–∫ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç
   - ‚úÖ –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ (–µ—Å–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã)

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∞–π—Ç–∞

–ö–æ–≥–¥–∞ –≤–Ω–æ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥:

```powershell
# 1. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç
npm run build

# 2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∞—Ä—Ö–∏–≤
Compress-Archive -Path "d:\1_sites\baraholka\out\*" -DestinationPath "d:\1_sites\baraholka\avoska-site-new.zip" -Force

# 3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–∞ Beget –∏ —Ä–∞—Å–ø–∞–∫—É–π—Ç–µ (–∑–∞–º–µ–Ω–∏–≤ —Å—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã)
```

---

## üêõ –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞: "404 Not Found" –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª `.htaccess` - –æ–Ω –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ `index.html`

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Supabase
**–†–µ—à–µ–Ω–∏–µ:** 
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ CORS –≤ Supabase
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–∞—Ä—Ç–∏–Ω–∫–∏ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ:** 
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–∞–ø–∫–∞ `_next/static/` –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å 644 –¥–ª—è —Ñ–∞–π–ª–æ–≤, 755 –¥–ª—è –ø–∞–ø–æ–∫)

### –ü—Ä–æ–±–ª–µ–º–∞: –°–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ–¥–ª–µ–Ω–Ω–æ
**–†–µ—à–µ–Ω–∏–µ:**
1. –í–∫–ª—é—á–∏—Ç–µ —Å–∂–∞—Ç–∏–µ gzip –≤ `.htaccess` (—Å–º. –≤—ã—à–µ)
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ CDN –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Beget

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: https://beget.com/ru/kb
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞: support@beget.com
- –ß–∞—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –≤ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ –≤–∞—à —Å–∞–π—Ç **–ê–≤–æ—Å—å–∫–∞+** –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –≤–∞—à–µ–º—É –¥–æ–º–µ–Ω—É!
